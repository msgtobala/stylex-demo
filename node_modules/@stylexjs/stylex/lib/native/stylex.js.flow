/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @flow strict
 */

import { type SpreadOptions } from './SpreadOptions';
import type { StyleX$CreateTheme, StyleX$DefineVars } from '../StyleXTypes';

/**
 * The create method shim should do initial transforms like
 * renaming/expanding/validating properties, essentially all the steps
 * which can be done at initialization-time (could potentially be done at
 * compile-time in the future).
 */
declare export function create<S: { [string]: { ... } }>(styles: S): {
  [string]: { ... },
};

declare export const firstThatWorks: <T: string | number>(
  ...values: $ReadOnlyArray<T>
) => T;

type Keyframes = {
  +[key: string]: { +[k: string]: string | number },
};

declare export function keyframes(k: Keyframes): Keyframes;

/**
 * The spread method shim
 */

declare export function props(
  this: SpreadOptions,
  ...style: $ReadOnlyArray<?{ [key: string]: mixed }>
): { [string]: { ... } };

declare export const __customProperties: { [string]: mixed };

declare export const defineVars: StyleX$DefineVars;

declare export const createTheme: $FlowFixMe;

export type IStyleX = $ReadOnly<{
  create: typeof create,
  firstThatWorks: typeof firstThatWorks,
  keyframes: typeof keyframes,
  props: typeof props,
  defineVars: StyleX$DefineVars,
  createTheme: StyleX$CreateTheme,
  __customProperties?: { [string]: mixed },
}>;

declare export const stylex: IStyleX;

declare export default IStyleX;
